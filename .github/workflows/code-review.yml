# # .github/workflows/code-review.yml
# name: AI Code Review

# on:
#   pull_request:
#     types: [opened, synchronize]

# jobs:
#   code-review:
#     runs-on: ubuntu-latest
#     permissions:
#       contents: read
#       pull-requests: write
      
#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v4
#         with:
#           fetch-depth: 0
          
#       - name: Get changed files
#         id: changed-files
#         uses: tj-actions/changed-files@v41
#         with:
#           files: |
#             **/*.java
#             **/*.xml
            
#       - name: Setup Python
#         uses: actions/setup-python@v5
#         with:
#           python-version: '3.11'
#           cache: 'pip'  # pip 캐시 활성화 (빌드 속도 향상)
          
#       - name: Install dependencies
#         run: |
#           python -m pip install --upgrade pip
#           pip install -r requirements.txt
          
#       - name: Run AI Code Review
#         env:
#           ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
#           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
#         run: |
#           python scripts/ai_code_review.py \
#             --files "${{ steps.changed-files.outputs.all_changed_files }}" \
#             --pr-number ${{ github.event.pull_request.number }}
